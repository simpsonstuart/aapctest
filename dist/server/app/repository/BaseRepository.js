"use strict";
var mongoose = require("mongoose");
var RepositoryBase = (function () {
    function RepositoryBase(schemaModel) {
        this._model = schemaModel;
    }
    RepositoryBase.prototype.create = function (item, callback) {
        this._model.create(item, callback);
    };
    RepositoryBase.prototype.retrieve = function (callback) {
        this._model.find({}, callback);
    };
    RepositoryBase.prototype.update = function (_id, item, callback) {
        this._model.update({ _id: _id }, item, callback);
    };
    RepositoryBase.prototype.delete = function (_id, callback) {
        this._model.remove({ _id: this.toObjectId(_id) }, function (err) { return callback(err, null); });
    };
    RepositoryBase.prototype.findById = function (_id, callback) {
        this._model.findById(_id, callback);
    };
    RepositoryBase.prototype.toObjectId = function (_id) {
        return mongoose.Types.ObjectId.createFromHexString(_id);
    };
    return RepositoryBase;
}());
module.exports = RepositoryBase;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9zZXJ2ZXIvc3JjL2FwcC9yZXBvc2l0b3J5L2FwcC9yZXBvc2l0b3J5L0Jhc2VSZXBvc2l0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFLQSxtQ0FBc0M7QUFFdEM7SUFJSSx3QkFBYSxXQUE4QztRQUN2RCxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRUQsK0JBQU0sR0FBTixVQUFRLElBQU8sRUFBRSxRQUEyQztRQUN4RCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFdkMsQ0FBQztJQUVELGlDQUFRLEdBQVIsVUFBVSxRQUEyQztRQUNqRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFDbEMsQ0FBQztJQUVELCtCQUFNLEdBQU4sVUFBUSxHQUE0QixFQUFFLElBQU8sRUFBRSxRQUEyQztRQUN0RixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFbkQsQ0FBQztJQUVELCtCQUFNLEdBQU4sVUFBUSxHQUFXLEVBQUUsUUFBMEM7UUFDM0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBQyxFQUFFLFVBQUMsR0FBRyxJQUFLLE9BQUEsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQyxDQUFDO0lBRWxGLENBQUM7SUFFRCxpQ0FBUSxHQUFSLFVBQVUsR0FBVyxFQUFFLFFBQXlDO1FBQzVELElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBR08sbUNBQVUsR0FBbEIsVUFBb0IsR0FBVztRQUMzQixNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDM0QsQ0FBQztJQUVMLHFCQUFDO0FBQUQsQ0FwQ0EsQUFvQ0MsSUFBQTtBQUVELGlCQUFTLGNBQWMsQ0FBQyIsImZpbGUiOiJhcHAvcmVwb3NpdG9yeS9CYXNlUmVwb3NpdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IElSZWFkID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlcy9SZWFkXCIpO1xuaW1wb3J0IElXcml0ZSA9IHJlcXVpcmUoXCIuL2ludGVyZmFjZXMvV3JpdGVcIik7XG5pbXBvcnQgSVB1cHB5TW9kZWwgPSByZXF1aXJlKFwiLi8uLi9tb2RlbC9pbnRlcmZhY2VzL1B1cHB5TW9kZWxcIik7XG5cbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcblxuY2xhc3MgUmVwb3NpdG9yeUJhc2U8VCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50PiBpbXBsZW1lbnRzIElSZWFkPFQ+LCBJV3JpdGU8VD4ge1xuXG4gICAgcHJpdmF0ZSBfbW9kZWw6IG1vbmdvb3NlLk1vZGVsPG1vbmdvb3NlLkRvY3VtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yIChzY2hlbWFNb2RlbDogbW9uZ29vc2UuTW9kZWw8bW9uZ29vc2UuRG9jdW1lbnQ+KSB7XG4gICAgICAgIHRoaXMuX21vZGVsID0gc2NoZW1hTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlIChpdGVtOiBULCBjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLmNyZWF0ZShpdGVtLCBjYWxsYmFjayk7XG5cbiAgICB9XG5cbiAgICByZXRyaWV2ZSAoY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9tb2RlbC5maW5kKHt9LCBjYWxsYmFjaylcbiAgICB9XG5cbiAgICB1cGRhdGUgKF9pZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIGl0ZW06IFQsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwudXBkYXRlKHtfaWQ6IF9pZH0sIGl0ZW0sIGNhbGxiYWNrKTtcblxuICAgIH1cblxuICAgIGRlbGV0ZSAoX2lkOiBzdHJpbmcsIGNhbGxiYWNrOihlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9tb2RlbC5yZW1vdmUoe19pZDogdGhpcy50b09iamVjdElkKF9pZCl9LCAoZXJyKSA9PiBjYWxsYmFjayhlcnIsIG51bGwpKTtcblxuICAgIH1cblxuICAgIGZpbmRCeUlkIChfaWQ6IHN0cmluZywgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IFQpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwuZmluZEJ5SWQoIF9pZCwgY2FsbGJhY2spO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB0b09iamVjdElkIChfaWQ6IHN0cmluZykgOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCB7XG4gICAgICAgIHJldHVybiBtb25nb29zZS5UeXBlcy5PYmplY3RJZC5jcmVhdGVGcm9tSGV4U3RyaW5nKF9pZClcbiAgICB9XG5cbn1cblxuZXhwb3J0ID0gUmVwb3NpdG9yeUJhc2U7Il19
